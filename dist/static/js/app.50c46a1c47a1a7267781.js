webpackJsonp([1],{"/KoK":function(t,a){},"21DI":function(t,a){},"6c9h":function(t,a){},"7Otq":function(t,a,s){t.exports=s.p+"static/img/logo.4399cab.png"},B1uN:function(t,a){},EMPF:function(t,a){},IVPN:function(t,a){},NHnr:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("//Fk"),e=s.n(i),o=s("7+uW"),n={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var l=s("VU/8")({name:"App",components:{}},n,!1,function(t){s("XE3d")},null,null).exports,r=s("/ocq"),c=s("mtWM"),d=s.n(c),v=s("mw3O"),_=s.n(v),m=s("NYxO"),u=s("zL8q"),p=s.n(u),h=(s("Wjvq"),{name:"Activity",data:function(){return{a:"",b:"",imgUrl:"",index:"",array:[],names:"",prizes:"",organizers:"",citys:"",contacts:"",detaila:"",detail_imagess:"",covers:"",begin_ats:"",cellphones:"",end_ats:"",sponsors:"",statuss:"",corpss:[],scheduless:[],imageUrl:"",imageUrl1:"",dialogImageUrl:"",dialogVisible:!1,uploadHeader:{Accept:"application/json",Authorization:"Bearer "+localStorage.token},imgs:"",img2:"",UrlImgArray:[],cd_id:"",schedule_id:""}},created:function(){this.seal()},methods:{show:function(t){var a=t,s=this;s.$axios.post("/api/api/admin/activity/show",s.$qs.stringify({activity_id:a})).then(function(t){console.log(t),s.seal()}).catch(function(t){console.log(t)})},seal:function(){var t=this;t.$axios.post("/api/api/admin/activity",t.$qs.stringify({})).then(function(a){console.log(a),t.array=a.data.data,t.cd_id=a.data.data.id}).catch(function(t){console.log(t)})},handleAvatarSuccess1:function(t,a){this.imageUrl1=URL.createObjectURL(a.raw),this.img2=a.response.data,console.log(this.img2)},beforeAvatarUpload1:function(t){var a="image/jpeg"===t.type,s=t.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&s},handleAvatarSuccess:function(t,a){this.imageUrl=URL.createObjectURL(a.raw),this.imgs=a.response.data},beforeAvatarUpload:function(t){var a="image/jpeg"===t.type,s=t.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&s},establish:function(){var t=this;""==$("#name").val()&&""==$("#begin_at").val()?alert("带*号项必填！"):""==$("#end_at").val()&&""==$("#detail").val()?alert("带*号项必填！"):""==$("#prize").val()?alert("带*号项必填！"):t.$axios.post("/api/api/admin/activity/create",t.$qs.stringify({name:$("#name").val(),cover:t.imgs,begin_at:$("#begin_at").val(),end_at:$("#end_at").val(),detail:$("#detail").val(),detail_images:t.img2,prize:$("#prize").val(),organizer:$("#organizer").val(),sponsor:$("#sponsor").val(),city:$("#city").val(),contact:$("#contact").val(),cellphone:$("#cellphone").val()})).then(function(a){console.log(a),t.seal()}).catch(function(t){console.log(t)})},details:function(t){var a=this;this.schedule_id=t,a.$axios.get("/api/api/admin/activity/"+t).then(function(t){console.log(t),a.names=t.data.data.name,a.prizes=t.data.data.prize,a.organizers=t.data.data.organizer,a.citys=t.data.data.city,a.contacts=t.data.data.contact,a.detaila=t.data.data.detail,a.detail_imagess=t.data.data.detail_images,a.begin_ats=t.data.data.begin_at,a.cellphones=t.data.data.cellphone,a.end_ats=t.data.data.end_at,a.sponsors=t.data.data.sponsor,a.statuss=t.data.data.status,a.corpss=t.data.data.corps,a.covers=t.data.data.cover,a.scheduless=t.data.data.schedules}).catch(function(t){console.log(t)})},shout:function(t){console.log(t),this.index=t,this.$router.push({path:"/combination/process?id="+t})},edit:function(t){console.log(t),this.index=t,this.$router.push({path:"/combination/schedule?id="+t})}}}),g={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"activity"},[s("main",{staticClass:"container-fluid",attrs:{role:"main"}},[s("div",{staticClass:"my-3 p-3 bg-white rounded box-shadow"},[t._m(0),t._v(" "),t._l(t.array,function(a,i){return s("div",{staticClass:"media text-muted pt-3"},[s("img",{staticClass:"mr-2 rounded",staticStyle:{width:"45px"},attrs:{src:a.cover,alt:""}}),t._v(" "),s("div",{staticClass:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray"},[s("strong",{staticClass:"d-block text-gray-dark"},[t._v(" "+t._s(a.name))]),t._v("\n            主办方："+t._s(a.organizer)+"\n            "),s("br"),t._v(" "),s("p",{staticStyle:{margin:"2px 0"}},[t._v("起止时间："+t._s(a.begin_at)+"～"+t._s(a.end_at))])]),t._v(" "),s("button",{staticClass:"btn btn-primary bia",attrs:{"data-toggle":"modal","data-target":"#exampleModal"},on:{click:function(s){t.details(a.id)}}},[t._v("详情")]),t._v(" "),s("button",{staticClass:"btn btn-danger bia",on:{click:function(s){t.shout(a.id)}}},[t._v("操作")]),t._v(" "),s("button",{staticClass:"btn btn-default bia",on:{click:function(s){t.edit(a.id)}}},[t._v("赛程")]),t._v(" "),0==a.is_show?s("button",{staticClass:"btn btn-success",on:{click:function(s){t.show(a.id)}}},[t._v("显示")]):s("button",{staticClass:"btn btn-warning",on:{click:function(s){t.show(a.id)}}},[t._v("隐藏")])])}),t._v(" "),s("small",{staticClass:"d-block text-right mt-3"})],2),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:" dimen"},[s("span",[t._v("活动名称：")]),s("p",[t._v(t._s(t.names))])]),t._v(" "),s("div",{staticClass:" dimen"},[s("span",[t._v("主办方：")]),s("p",[t._v(t._s(t.organizers))])]),t._v(" "),s("div",{staticClass:" dimen"},[s("span",[t._v("活动奖品：")]),s("p",[t._v(t._s(t.prizes))])]),t._v(" "),s("div",{staticClass:" dimen"},[s("span",[t._v("举办城市：")]),s("p",[t._v(t._s(t.citys))])]),t._v(" "),s("div",{staticClass:"dimen"},[s("span",[t._v("赞助商：")]),s("p",[t._v(t._s(t.sponsors))])])]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"dimen"},[s("span",[t._v("联系人：")]),s("p",[t._v(t._s(t.contacts))])]),t._v(" "),s("div",{staticClass:"dimen"},[s("span",[t._v("电话：")]),s("p",[t._v(t._s(t.cellphones))])]),t._v(" "),s("div",{staticClass:"dimen"},[s("span",[t._v("开始时间：")]),s("p",[t._v(t._s(t.begin_ats))])]),t._v(" "),s("div",{staticClass:"dimen"},[s("span",[t._v("截止时间：")]),s("p",[t._v(t._s(t.end_ats))])]),t._v(" "),s("div",{staticClass:" dimen"},[s("span",[t._v("状态：")]),"NORMAL"==t.statuss?s("p",[t._v("可报名")]):s("p",[t._v("截止报名")])])])]),t._v(" "),s("div",{staticClass:"row pos"},[s("div",{staticClass:"col-md-12 dimen"},[s("span",[t._v("活动规则：")]),s("p",{staticStyle:{width:"89%"}},[t._v(t._s(t.detaila))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("span",[t._v("封面海报：")]),t._v(" "),s("div",{staticClass:"row"},[s("img",{staticStyle:{width:"60%","margin-left":"10%"},attrs:{src:t.covers}})])]),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("span",[t._v("详情海报：")]),t._v(" "),s("div",{staticClass:"row"},[s("img",{staticStyle:{width:"60%","margin-left":"10%"},attrs:{src:t.detail_imagess}})])])]),t._v(" "),s("table",{staticClass:"table table-hover",staticStyle:{"margin-top":"15px"}},[s("caption",[t._v("赛程")]),t._v(" "),t._m(2),t._v(" "),t._l(t.scheduless,function(a){return s("tr",[s("th",[t._v(t._s(a.id))]),t._v(" "),s("th",[t._v(t._s(a.city))]),t._v(" "),s("th",[t._v(t._s(a.address))]),t._v(" "),s("th",[t._v(t._s(a.name))]),t._v(" "),s("th",[t._v(t._s(a.begin_at))]),t._v(" "),s("th",[t._v(t._s(a.end_at))]),t._v(" "),"NORMAL"==a.status?s("th",[t._v("进行中")]):s("th",[t._v("已结束")])])})],2),t._v(" "),s("table",{staticClass:"table table-hover",staticStyle:{"margin-top":"15px"}},[s("caption",[t._v("报名战队")]),t._v(" "),t._m(3),t._v(" "),t._l(t.corpss,function(a,i){return s("tr",[s("th",[t._v(t._s(a.id))]),t._v(" "),s("th",[s("img",{staticStyle:{width:"32px",height:"32px"},attrs:{src:a.logo}})]),t._v(" "),s("th",[t._v(t._s(a.name))]),t._v(" "),s("th",[t._v(t._s(a.number))]),t._v(" "),s("th",[t._v(t._s(a.limit_number))]),t._v(" "),s("th",[t._v(t._s(a.slogan))]),t._v(" "),s("th",[t._v(t._s(a.detail))]),t._v(" "),s("th",[t._v(t._s(a.point))]),t._v(" "),0==a.need_check?s("th",[t._v("不需要")]):s("th",[t._v("需要")])])})],2)]),t._v(" "),t._m(4)])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{tabindex:"-1",id:"myModal",role:"dialog","aria-labelledby":"gridSystemModalLabel"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(5),t._v(" "),s("div",{staticClass:"modal-body"},[t._m(6),t._v(" "),t._m(7),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-6 zix"},[s("div",{staticClass:"position-file"},[t._m(8),t._v(" "),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/api/upload-image",name:"img",headers:t.uploadHeader,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?s("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),t._v(" "),s("div",{staticClass:"col-sm-6 zix"},[s("button",{staticClass:"btn dimen2",attrs:{type:"file"}},[t._v("详情图片")]),t._v(" "),s("div",{staticClass:"position-file"},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/api/upload-image",name:"img",headers:t.uploadHeader,"show-file-list":!1,"on-success":t.handleAvatarSuccess1,"before-upload":t.beforeAvatarUpload1}},[t.imageUrl1?s("img",{staticClass:"avatar",attrs:{src:t.imageUrl1}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])]),t._v(" "),t._m(9)]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.establish}},[t._v("提交")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"pase"},[a("h6",{staticClass:" border-gray pb-2 mb-0"},[this._v("活动")]),this._v(" "),a("button",{staticClass:"btn btn-info",attrs:{"data-toggle":"modal","data-target":"#myModal"}},[this._v("创建活动")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header panel "},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h4",{staticStyle:{margin:"0"},attrs:{id:"exampleModalLabel"}},[this._v("详情")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("举办城市")]),t._v(" "),s("th",[t._v("地址")]),t._v(" "),s("th",[t._v("赛程名称")]),t._v(" "),s("th",[t._v("开始时间")]),t._v(" "),s("th",[t._v("结束时间")]),t._v(" "),s("th",[t._v("状态")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("战队logo")]),t._v(" "),s("th",[t._v("战队名称")]),t._v(" "),s("th",[t._v("成员")]),t._v(" "),s("th",[t._v("成员上限")]),t._v(" "),s("th",[t._v("战队口号")]),t._v(" "),s("th",[t._v("战队描述")]),t._v(" "),s("th",[t._v("积分")]),t._v(" "),s("th",[t._v("审核")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("关闭")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header panel-success"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h4",{staticClass:"modal-title",attrs:{id:"gridSystemModalLabel"}},[this._v("发布活动")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 "},[s("div",{staticClass:"dimen2"},[s("span",[t._v("活动名称"),s("span",{staticClass:"reds"},[t._v("*")]),t._v("：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:""}})]),t._v(" "),s("div",{staticClass:"dimen2"},[s("span",[t._v("活动奖品"),s("span",{staticClass:"reds"},[t._v("*")]),t._v("：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"prize",placeholder:""}})]),t._v(" "),s("div",{staticClass:"dimen2"},[s("span",[t._v("主办方：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"organizer",placeholder:""}})]),t._v(" "),s("div",{staticClass:"dimen2"},[s("span",[t._v("举办城市：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"city",placeholder:""}})]),t._v(" "),s("div",{staticClass:"dimen2"},[s("span",[t._v("赞助商：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"sponsor",placeholder:""}})])]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"dimen2"},[s("span",[t._v("联系人：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"contact",placeholder:""}})]),t._v(" "),s("div",{staticClass:"dimen2"},[s("span",[t._v("电话：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"cellphone",placeholder:""}})]),t._v(" "),s("div",{staticClass:"dimen2"},[s("span",[t._v("开始时间"),s("span",{staticClass:"reds"},[t._v("*")]),t._v("：")]),s("input",{staticClass:"form-control",attrs:{type:"date",id:"begin_at",placeholder:""}})]),t._v(" "),s("div",{staticClass:"dimen2"},[s("span",[t._v("截止时间"),s("span",{staticClass:"reds"},[t._v("*")]),t._v("：")]),s("input",{staticClass:"form-control",attrs:{id:"end_at",type:"date",placeholder:""}})])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"dimen2"},[a("p",{staticStyle:{width:"71px"}},[this._v("活动规则"),a("span",{staticClass:"reds"},[this._v("*")]),this._v("：")]),this._v(" "),a("textarea",{staticClass:"form-control",attrs:{id:"detail",rows:"3",placeholder:""}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn",staticStyle:{"margin-bottom":"10px"},attrs:{type:"file"}},[this._v("封面图片"),a("span",{staticClass:"reds"},[this._v("*")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"zix doms"},[a("p",[this._v("带星号项是必填项")])])])}]};var f=s("VU/8")(h,g,!1,function(t){s("EMPF")},"data-v-1763104c",null).exports,C={name:"Match",data:function(){return{array:[],array2:[],logo:"",names:"",slogans:"",describe:"",nameid:"",numbers:"",limit_numbers:"",points:"",need_checks:""}},created:function(){this.request()},methods:{details:function(t){var a=this;a.$axios.get("api/api/admin/corp/"+t,a.$qs.stringify({})).then(function(t){console.log(t),a.logo=t.data.data.logo,a.names=t.data.data.name,a.slogans=t.data.data.slogan,a.describe=t.data.data.detail,a.array2=t.data.data.members,a.nameid=t.data.data.id,a.numbers=t.data.data.number,a.limit_numbers=t.data.data.limit_number,a.points=t.data.data.point,a.need_checks=t.data.data.need_check}).catch(function(t){console.log(t)})},request:function(){var t=this;t.$axios.post("api/api/admin/corp",t.$qs.stringify({})).then(function(a){console.log(a),t.array=a.data.data}).catch(function(t){console.log(t)})}}},b={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"match"},[s("main",{staticClass:"container-fluid",attrs:{role:"main"}},[s("div",{staticClass:"container-fluid "},[s("div",{staticClass:"row"},[s("table",{staticClass:"table table-striped table-hover"},[t._m(0),t._v(" "),t._l(t.array,function(a){return s("tr",{staticStyle:{cursor:"pointer"},attrs:{"data-toggle":"modal","data-target":"#myModal"},on:{click:function(s){t.details(a.id)}}},[s("th",[t._v(t._s(a.id))]),t._v(" "),s("th",[s("img",{attrs:{src:a.logo}})]),t._v(" "),s("th",[t._v(t._s(a.name))]),t._v(" "),s("th",[t._v(t._s(a.number))]),t._v(" "),s("th",[t._v(t._s(a.limit_number))]),t._v(" "),s("th",[t._v(t._s(a.slogan))]),t._v(" "),s("th",[t._v(t._s(a.point))]),t._v(" "),0==a.need_check?s("th",[t._v("不需要")]):s("th",[t._v("需要")])])})],2)])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"myModal",tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"topbs"},[s("div",{staticClass:"logs"},[s("img",{staticStyle:{width:"180px"},attrs:{src:t.logo}})]),t._v(" "),s("div",{staticClass:"yio"},[s("p",[t._v("战队名称："+t._s(t.names))]),t._v(" "),s("p",[t._v("战队人数："+t._s(t.numbers))]),t._v(" "),s("p",[t._v("战队上限："+t._s(t.limit_numbers))]),t._v(" "),s("p",[t._v("战队ID："+t._s(t.nameid))]),t._v(" "),s("p",[t._v("积分："+t._s(t.points))]),t._v(" "),s("p",[t._v("是否需要审核："),(t.need_checks=1)?s("span",[t._v("不需要")]):s("span",[t._v("需要")])])])]),t._v(" "),s("p",{staticStyle:{"margin-top":"15px"}},[t._v("战队口号："+t._s(t.slogans))]),t._v(" "),s("div",{staticStyle:{"margin-top":"15px"}},[t._v("战队描述："+t._s(t.describe))]),t._v(" "),s("table",{staticClass:"table table-hover",staticStyle:{"margin-top":"15px"}},[t._m(2),t._v(" "),t._l(t.array2,function(a){return s("tr",[s("th",[s("img",{attrs:{src:a.user.avatar}})]),t._v(" "),s("th",[t._v(t._s(a.identify))]),t._v(" "),s("th",[t._v(t._s(a.user.nick_name))]),t._v(" "),s("th")])})],2)]),t._v(" "),t._m(3)])])])])},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("战队LOGO")]),t._v(" "),s("th",[t._v("战队名称")]),t._v(" "),s("th",[t._v("成员数")]),t._v(" "),s("th",[t._v("成员上限")]),t._v(" "),s("th",[t._v("战队口号")]),t._v(" "),s("th",[t._v("积分")]),t._v(" "),s("th",[t._v("是否需要审核")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[this._v("战队详情")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("tr",[a("th",[this._v("头像")]),this._v(" "),a("th",[this._v("位置")]),this._v(" "),a("th",[this._v("昵称")]),this._v(" "),a("th")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("关闭")])])}]};var y=s("VU/8")(C,b,!1,function(t){s("B1uN")},"data-v-a13d32bc",null).exports,x={name:"match-edit",props:["msg"],data:function(){return{array:[],idea:"",array2:[]}},watch:{msg:function(t){console.log(t)}},created:function(t){this.activityItem()},methods:{activityItem:function(){var t=this;console.log(t.$route.query.id),t.$axios.get("/api/api/activity/"+t.$route.query.id).then(function(a){console.log(a),t.array=a.data.data.schedules,t.idea=a.data.data.id})},update:function(){var t=this;t.$axios.post("/api/api/admin/schedule/edit",t.$qs.stringify({schedule_id:$("#id").val(),name:$("#name1").val(),begin_at:$("#city1").val(),end_at:$("#contact1").val(),city:$("#prize1").val(),address:$("#organizer1").val()})).then(function(a){console.log(a),t.activityItem()})},modify:function(t){this.array2=this.array[t]},upload:function(){var t=this;t.$axios.post("/api/api/admin/schedule/create",t.$qs.stringify({activity_id:$("#cellphone").val(),name:$("#name").val(),begin_at:$("#city").val(),end_at:$("#contact").val(),city:$("#prize").val(),address:$("#organizer").val()})).then(function(a){console.log(a),t.activityItem()}).catch(function(t){console.log(t)})},Submit:function(){this.$axios.post("/api/api/schedule/edit",that.$qs.stringify({})).then(function(t){console.log(t)}).catch(function(t){console.log(t)})}}},w={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"matchedit"},[s("main",{staticClass:"container-fluid",attrs:{role:"main"}},[s("div",{staticClass:"my-3 p-3 bg-white rounded box-shadow"},[s("h6",{staticClass:"border-bottom border-gray pb-2 mb-0"},[t._v("赛程相关")]),t._v(" "),s("div",{staticClass:"text-muted pt-3"},t._l(t.array,function(a,i){return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 dimen"},[s("span",[t._v("名称：")]),s("p",[t._v(t._s(a.name))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 dimen"},[s("span",[t._v("举办城市：")]),s("p",[t._v(t._s(a.city))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 dimen"},[s("span",[t._v("地址：")]),s("p",[t._v(t._s(a.address))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 dimen"},[s("span",[t._v("开始时间：")]),s("p",[t._v(t._s(a.begin_at))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 dimen"},[s("span",[t._v("结束时间：")]),s("p",[t._v(t._s(a.end_at))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12 dimen"},[s("button",{staticClass:"btn btn-danger",attrs:{"data-toggle":"modal","data-target":"#myModify"},on:{click:function(a){t.modify(i)}}},[t._v("修改赛程")])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{tabindex:"-1",id:"myModify",role:"dialog"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0,!0),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("赛程名称：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"name1",placeholder:""},domProps:{value:t.array2.name}})]),t._v(" "),s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("开始时间：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"city1",placeholder:""},domProps:{value:t.array2.begin_at}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("举办城市：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"prize1",placeholder:""},domProps:{value:t.array2.city}})]),t._v(" "),s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("结束时间：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"contact1",placeholder:""},domProps:{value:t.array2.end_at}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("地址：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"organizer1",placeholder:""},domProps:{value:t.array2.address}})]),t._v(" "),s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("ID：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"id",placeholder:"",readonly:""},domProps:{value:a.id}})])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.update}},[t._v("提交")])])])])])])})),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#myModal"}},[t._v("创建赛程")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{tabindex:"-1",id:"myModal",role:"dialog"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[t._m(2),t._v(" "),t._m(3),t._v(" "),s("div",{staticClass:"row"},[t._m(4),t._v(" "),s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("ID：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"cellphone",placeholder:"",readonly:""},domProps:{value:t.idea}})])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.upload}},[t._v("提交")])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h4",{staticClass:"modal-title"},[this._v("修改赛程")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h4",{staticClass:"modal-title",attrs:{id:"gridSystemModalLabel"}},[this._v("发布活动")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("赛程名称：")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:""}})]),this._v(" "),a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("开始时间：")]),a("input",{staticClass:"form-control",attrs:{type:"date",id:"city",placeholder:""}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("举办城市：")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"prize",placeholder:""}})]),this._v(" "),a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("结束时间：")]),a("input",{staticClass:"form-control",attrs:{type:"date",id:"contact",placeholder:""}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("地址：")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"organizer",placeholder:""}})])}]};var S=s("VU/8")(x,w,!1,function(t){s("t+V/")},"data-v-692af4c7",null).exports,k={name:"Login",data:function(){return{router:""}},methods:{Login:function(t){var a=this,s=$("#inputUsername").val(),i=$("#inputPassword").val();i=$.md5(i),this.$axios.post("https://dc.3128play.com/api/oauth/login",this.$qs.stringify({name:s,password:i})).then(function(t){console.log(t),-1==t.data.code?alert("账号或密码错误"):0==t.data.code&&(window.localStorage.token=t.data.data,a.$router.push({path:"/combination/activity"}))}).catch(function(t){console.log(t)})}}},z={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"login"},[i("div",{staticClass:"form-signin text-center"},[i("img",{staticClass:"mb-4",attrs:{src:s("7Otq"),alt:"",width:"110"}}),t._v(" "),i("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("请输入")]),t._v(" "),i("input",{staticClass:"form-control",attrs:{name:"username",type:"text",id:"inputUsername",placeholder:"账号名",required:"",autofocus:""}}),t._v(" "),i("input",{staticClass:"form-control",attrs:{name:"password",type:"password",id:"inputPassword",placeholder:"密码",required:""}}),t._v(" "),t._m(0),t._v(" "),i("div",[i("button",{staticClass:"btn btn-lg btn-danger btn-block",on:{click:t.Login}},[t._v("登陆")])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"checkbox mb-3"},[a("label")])}]};var q=s("VU/8")(k,z,!1,function(t){s("6c9h")},"data-v-709fed5b",null).exports,E={name:"Header",data:function(){return{}},methods:{logowt:function(){window.localStorage.removeItem("token"),this.$router.push({path:"/login"})}}},I={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"header"},[a("nav",{staticClass:"navbar navbar-default navbar-fixed-top"},[a("div",{staticClass:"_sinBox container-fluid"},[a("div",{staticClass:"navbar-collapse collapse",attrs:{id:"navbar"}},[a("ul",{staticClass:"nav navbar-nav navbar-right"},[a("li",{staticClass:"active",on:{click:this.logowt}},[a("a",{attrs:{href:"#"}},[this._v("退出登录")])])])])])])])},staticRenderFns:[]};var U={name:"Container",data:function(){return{list:[{text:"活动管理",router:"/combination/activity"},{text:"战队",router:"/combination/match"},{text:"商户码",router:"/combination/merchantcode"}],data:""}},methods:{index:function(t){this.data=t,console.log(this.data)}}},M={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[s("div",{staticClass:"sidebar-sticky"},[s("ul",{staticClass:"nav flex-column"},t._l(t.list,function(a){return s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link active",attrs:{to:a.router}},[t._v("\n\t                  \t\t\t"+t._s(a.text)+"\n\t                \t\t")])],1)}))])]),t._v(" "),s("div",{staticClass:"col-md-9 ml-sm-auto col-lg-10 pt-3 px-4 col-md-offset-2"},[s("router-view",{attrs:{msg:t.data},on:{index:t.index}})],1)])])},staticRenderFns:[]};var L={name:"Combination",components:{Header:s("VU/8")(E,I,!1,function(t){s("/KoK")},"data-v-52f3187b",null).exports,Container:s("VU/8")(U,M,!1,function(t){s("xfRc")},"data-v-deacbf68",null).exports}},F={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"combination"},[a("Header"),this._v(" "),a("Container")],1)},staticRenderFns:[]};var P=s("VU/8")(L,F,!1,function(t){s("tL0h")},"data-v-d64cd53c",null).exports,A={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"member"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("table",{staticClass:"table table-striped table-hover"},[t._m(0),t._v(" "),t._l(t.list,function(a){return s("tr",[s("th",[t._v(t._s(a.name))]),t._v(" "),s("th",[t._v(t._s(a.gender))]),t._v(" "),s("th",[t._v(t._s(a.age))]),t._v(" "),s("th",[t._v(t._s(a.city))]),t._v(" "),s("th",[t._v(t._s(a.city))]),t._v(" "),s("th",[t._v(t._s(a.city))])])})],2)])])])},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("th",[t._v("姓名")]),t._v(" "),s("th",[t._v("性别")]),t._v(" "),s("th",[t._v("年龄")]),t._v(" "),s("th",[t._v("地区")]),t._v(" "),s("th",[t._v("地区")]),t._v(" "),s("th",[t._v("地区")])])}]};var j=s("VU/8")({name:"Member",data:function(){return{list:[{name:"aa",gender:"男",age:"20",city:"佛山"},{name:"aa",gender:"男",age:"20",city:"佛山"},{name:"aa",gender:"男",age:"20",city:"佛山"},{name:"aa",gender:"男",age:"20",city:"佛山"}]}}},A,!1,function(t){s("oNeI")},"data-v-254537f0",null).exports;o.default.use(m.a);var T=new m.a.Store({state:{count:0},mutations:{increment:function(t){return t.count++},decrement:function(t){return t.count--}}}),R={name:"process",props:["msg"],data:function(){return{array:[],array2:[],imageUrl:"",imageUrl2:"",uploadHeader:{Accept:"application/json",Authorization:"Bearer "+localStorage.token},imgs:"",imgs2:""}},watch:{msg:function(t){console.log(t)}},created:function(){var t=this;console.log(t.$route.query.id),t.$axios.get("/api/api/activity/"+t.$route.query.id,{},{}).then(function(a){console.log(a.data.data),t.array=a.data.data,t.array2=a.data.data.corps})},methods:{modify:function(){var t=this;console.log($(".imgfm")[0].src),""==$("#id").val()||""==$("#title").val()?console.log("必填项为空，修改失败！"):""==$("#ks").val()||""==$("#jz").val()?console.log("必填项为空，修改失败！"):""==$("#gz").val()||""==$("#jp").val()?console.log("必填项为空，修改失败！"):this.$axios.post("/api/api/admin/activity/edit",this.$qs.stringify({activity_id:$("#id").val(),name:$("#title").val(),cover:$(".imgfm")[0].src,begin_at:$("#ks").val(),end_at:$("#jz").val(),detail:$("#gz").val(),detail_images:$(".imgxq")[0].src,prize:$("#jp").val(),organizer:$("#zb").val(),sponsor:$("#zzs").val(),city:$("#cs").val(),contact:$("#lx").val(),cellphone:$("#dh").val()})).then(function(a){console.log(a),t.$router.push({path:"../combination/activity"})}).catch(function(t){console.log(t)})},handleAvatarSuccess2:function(t,a){this.imageUrl2=a.response.data,this.imgs2=a.response.data,console.log(a.response.data)},beforeAvatarUpload2:function(t){var a="image/jpeg"===t.type,s=t.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&s},handleAvatarSuccess:function(t,a){this.imageUrl=a.response.data,this.imgs=a.response.data,console.log(a.response.data)},beforeAvatarUpload:function(t){var a="image/jpeg"===t.type,s=t.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),s||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&s}}},N={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"process"},[s("main",{staticClass:"container-fluid",attrs:{role:"main"}},[s("div",{staticClass:"my-3 p-3 bg-white rounded box-shadow "},[s("h6",{staticClass:"border-bottom border-gray pb-2 mb-0"},[t._v("修改")]),t._v(" "),s("div",{staticClass:" text-muted pt-3"},[s("form",[s("div",{staticClass:"form-group col-sm-6 "},[s("div",{staticClass:"balance"},[s("label",[t._v("活动名称：")]),t._v(" "),s("input",{staticClass:"form-control ",attrs:{type:"text",id:"title",placeholder:""},domProps:{value:t.array.name}})]),t._v(" "),s("div",{staticClass:"balance"},[s("label",[t._v("活动奖品：")]),t._v(" "),s("input",{staticClass:"form-control",attrs:{type:"text",id:"jp"},domProps:{value:t.array.prize}})]),t._v(" "),s("div",{staticClass:"balance"},[s("label",[t._v("主办方：")]),t._v(" "),s("input",{staticClass:"form-control",attrs:{type:"text",id:"zb",placeholder:""},domProps:{value:t.array.organizer}})]),t._v(" "),s("div",{staticClass:"balance"},[s("label",[t._v("举办城市：")]),t._v(" "),s("input",{staticClass:"form-control ",attrs:{type:"text",id:"cs",placeholder:""},domProps:{value:t.array.city}})]),t._v(" "),s("div",{staticClass:"balance"},[s("label",[t._v("赞助商：")]),t._v(" "),s("input",{staticClass:"form-control",attrs:{type:"text",id:"zzs"},domProps:{value:t.array.sponsor}})])]),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"balance"},[s("label",[t._v("联系人：")]),t._v(" "),s("input",{staticClass:"form-control ",attrs:{type:"text",id:"lx",placeholder:""},domProps:{value:t.array.contact}})]),t._v(" "),s("div",{staticClass:"balance"},[s("label",[t._v("电话：")]),t._v(" "),s("input",{staticClass:"form-control ",attrs:{type:"text",id:"dh",placeholder:""},domProps:{value:t.array.cellphone}})]),t._v(" "),s("div",{staticClass:"balance"},[s("label",[t._v("开始时间：")]),t._v(" "),s("input",{staticClass:"form-control ",attrs:{type:"date",id:"ks",placeholder:""},domProps:{value:t.array.begin_at}})]),t._v(" "),s("div",{staticClass:"balance"},[s("label",[t._v("截止时间：")]),t._v(" "),s("input",{staticClass:"form-control ",attrs:{type:"date",id:"jz",placeholder:""},domProps:{value:t.array.end_at}})]),t._v(" "),s("input",{staticClass:"form-control ",staticStyle:{opacity:"0"},attrs:{type:"text",id:"id",readonly:"",placeholder:""},domProps:{value:t.array.id}})]),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"balance"},[s("label",{staticStyle:{width:"86px"}},[t._v("活动规则：")]),t._v(" "),s("textarea",{staticClass:"form-control",attrs:{rows:"4",id:"gz",placeholder:"内容"}},[t._v(t._s(t.array.detail))])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("label",[t._v("封面图片：")]),t._v(" "),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/api/upload-image",name:"img",headers:t.uploadHeader,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?s("img",{staticClass:"avatar imgfm",attrs:{src:t.imageUrl}}):s("img",{staticClass:"avatar imgfm",attrs:{src:t.array.cover}})])],1),t._v(" "),s("div",{staticClass:"col-md-6"},[t._m(0),t._v(" "),s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/api/upload-image",name:"img",headers:t.uploadHeader,"show-file-list":!1,"on-success":t.handleAvatarSuccess2,"before-upload":t.beforeAvatarUpload2}},[t.imageUrl2?s("img",{staticClass:"avatar imgxq",attrs:{src:t.imageUrl2}}):s("img",{staticClass:"avatar imgxq",attrs:{src:t.array.detail_images,id:"imgqx"}})])],1)]),t._v(" "),s("button",{staticClass:"btn btn-primary foui",attrs:{type:"submit"},on:{click:t.modify}},[t._v("提交")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("label",[this._v("详情图片：")])])}]};var V=s("VU/8")(R,N,!1,function(t){s("21DI")},"data-v-36c69478",null).exports,O={name:"Schedule",data:function(){return{array:[],idea:"",activity_id:""}},created:function(){this.activityItem()},methods:{activityItem:function(){var t=this;console.log(t.$route.query.id),this.activity_id=t.$route.query.id,t.$axios.get("/api/api/activity/"+t.$route.query.id).then(function(a){console.log(a),t.array=a.data.data.schedules,t.idea=a.data.data.id})},upload:function(){var t=this;console.log($("#cellphone").val()),this.$axios.post("/api/api/admin/schedule/create",this.$qs.stringify({activity_id:$("#cellphone").val(),name:$("#name").val(),begin_at:$("#city").val(),end_at:$("#contact").val(),city:$("#prize").val(),address:$("#organizer").val()})).then(function(a){console.log(a),t.activityItem()})}}},D={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"schedule"},[t._m(0),t._v(" "),0!=t.array.length?s("div",t._l(t.array,function(a){return s("div",{staticClass:"jumbotron"},[s("router-link",{attrs:{to:"/combination/scheduleitem?scheduid="+a.id+"&id="+t.activity_id}},[s("h4",[t._v("赛程名称："+t._s(a.name))]),t._v(" "),s("h5",[t._v("举办城市："+t._s(a.city))]),t._v(" "),s("h5",[t._v("起止时间："+t._s(a.begin_at)+"~"+t._s(a.end_at))])])],1)})):s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("没有赛程信息")]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{tabindex:"-1",id:"myModal",role:"dialog"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[t._m(2),t._v(" "),t._m(3),t._v(" "),s("div",{staticClass:"row"},[t._m(4),t._v(" "),s("div",{staticClass:"col-md-6 dimen2",staticStyle:{opacity:"0"}},[s("span",[t._v("ID：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"cellphone",placeholder:"",readonly:""},domProps:{value:t.idea}})])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.upload}},[t._v("提交")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"page-header double"},[a("h1",[this._v("赛程列表")]),this._v(" "),a("button",{staticClass:"btn btn-info",attrs:{"data-toggle":"modal","data-target":"#myModal"}},[this._v("创建赛程")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h4",{staticClass:"modal-title",attrs:{id:"gridSystemModalLabel"}},[this._v("发布活动")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("赛程名称：")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:""}})]),this._v(" "),a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("开始时间：")]),a("input",{staticClass:"form-control",attrs:{type:"date",id:"city",placeholder:""}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("举办城市：")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"prize",placeholder:""}})]),this._v(" "),a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("结束时间：")]),a("input",{staticClass:"form-control",attrs:{type:"date",id:"contact",placeholder:""}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-md-6 dimen2"},[a("span",[this._v("地址：")]),a("input",{staticClass:"form-control",attrs:{type:"text",id:"organizer",placeholder:""}})])}]};var H=s("VU/8")(O,D,!1,function(t){s("jMqD")},"data-v-015f0a51",null).exports,B=s("mvHQ"),W=s.n(B),G={name:"ScheduleItem",data:function(){return{list:[],addCorpList:[],idea:"",alertFalg:{falg:!1,falg1:!1,msg:""},settingItem:[],dropdown:["胜","负","比赛中"],dropdown1:["WIN","LOST","ENTER"],downText:"",rankText:"",begin_at:"",end_at:"",kais:"",jies:"",addCorpList2:[]}},created:function(){this.getSchedule()},methods:{format:function(){var t=this.addCorpList.begin_at,a=this.addCorpList.end_at;this.begin_at=t.replace(/ /,"T"),this.end_at=a.replace(/ /,"T")},update:function(){var t=this,a=$("#city1").val(),s=$("#contact1").val();this.kais=a.replace(/T/," ")+":00",this.jies=s.replace(/T/," ")+":00",console.log(a)," "==$("#id").val()?console.log("修改失败！"):""==$("#name1").val()?console.log("赛程名为空，修改失败！"):":00"==this.kais?console.log("赛程时间为空1，修改失败！"):":00"==this.jies?console.log("赛程时间为空2，修改失败！"):""==$("#prize1").val()?console.log("赛程城市为空，修改失败！"):""==$("#organizer1").val()?console.log("赛程地点为空，修改失败！"):this.$axios.post("/api/api/admin/schedule/edit",this.$qs.stringify({schedule_id:$("#id").val(),name:$("#name1").val(),begin_at:this.kais,end_at:this.jies,city:$("#prize1").val(),address:$("#organizer1").val()})).then(function(a){console.log(a),t.getSchedule()})},saveSetting:function(){var t=this,a=this;this.$axios.post("/api/api/admin/schedule/set",this.$qs.stringify({schedule_corp_id:this.settingItem.schedule_corp_id,status:this.dropdown1[this.downIndex],rank:$("#ranking").val()})).then(function(s){console.log(s),t.alertFalg.falg=!0,t.alertFalg.msg="设置成功",t.getSchedule(),setTimeout(function(){a.alertFalg.falg=!1},3e3)})},getdown:function(t){console.log(t),this.downIndex=t,this.downText=this.dropdown[t]},Setting:function(t){this.settingItem=this.addCorpList.corps[t],this.downText="",console.log(this.settingItem),$("#exampleModal").on("show.bs.modal",function(t){$(t.relatedTarget).data("whatever")})},getSchedule:function(){var t=this;console.log(t.$route.query.scheduid);var a="",s="",i=[],e=[],o="";this.$axios.get("/api/api/admin/schedule/"+t.$route.query.scheduid).then(function(e){console.log(e),a=e.data.data,s=a.corps,t.idea=e.data.data.id;for(var o=0;o<s.length;o++)i.push(s[o].id);t.addCorpList=a}).then(function(){t.$axios.get("/api/api/admin/activity/"+t.$route.query.id).then(function(a){console.log(a),o=a.data.data;for(var s=0;s<o.corps.length;s++)for(var n=0;n<i.length;n++)o.corps[s].id==i[n]&&(console.log(s),e.push(s),o.corps[s].ifFalg=!0);t.list=o})})},addCorpIn:function(t){var a=this;console.log(this.list.corps[t].id);var s=this,i=this.list.corps[t].xxx_id,e=this.list.corps[t].id,o=this.addCorpList.id,n=[{xxx_id:i,id:e}];this.$axios.post("/api/api/admin/schedule/in",this.$qs.stringify({schedule_id:o,corps:W()(n)})).then(function(t){t.code||(a.alertFalg.falg=!0,a.alertFalg.msg="战队添加成功",a.getSchedule(),setTimeout(function(){s.alertFalg.falg=!1},3e3))})},removeCorpIn:function(t){var a=this,s=this,i=[this.addCorpList.corps[t].schedule_corp_id];this.$axios.post("/api/api/admin/schedule/out",this.$qs.stringify({id:W()(i)})).then(function(t){console.log(t),a.alertFalg.falg1=!0,a.alertFalg.msg="战队移除成功",a.getSchedule(),setTimeout(function(){s.alertFalg.falg1=!1},3e3)})}}},J={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"scheduleItem"},[s("transition",{attrs:{name:"slide-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.alertFalg.falg,expression:"alertFalg.falg"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[s("h4",{staticStyle:{color:"#468847"}},[t._v("✔ "+t._s(t.alertFalg.msg))])])]),t._v(" "),s("transition",{attrs:{name:"slide-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.alertFalg.falg1,expression:"alertFalg.falg1"}],staticClass:"alert alert-warning",attrs:{role:"alert"}},[s("h4",{staticStyle:{color:"#8A6D3B"}},[t._v("✔ "+t._s(t.alertFalg.msg))])])]),t._v(" "),s("div",{staticClass:"jumbotron"},[s("h3",[t._v("赛程名称："+t._s(t.addCorpList.name))]),t._v(" "),s("div",[t._v("举办城市："+t._s(t.addCorpList.city))]),t._v(" "),s("div",[t._v("举办地址："+t._s(t.addCorpList.address))]),t._v(" "),s("div",[t._v("起止时间："+t._s(t.addCorpList.begin_at)+"~"+t._s(t.addCorpList.end_at))]),t._v(" "),s("div",[s("button",{staticClass:"btn btn-info",attrs:{"data-toggle":"modal","data-target":"#myModify"},on:{click:t.format}},[t._v("修改赛程")])])]),t._v(" "),t._m(0),t._v(" "),s("table",{staticClass:"table table-hover table-striped"},[t._m(1),t._v(" "),s("tbody",t._l(t.addCorpList.corps,function(a,i){return s("tr",{class:["WIN"==a.schedule_corp_status?"success alert-success":"ENTER"==a.schedule_corp_status?"warning alert-warning":"danger alert-danger"]},[s("th",[t._v(t._s(a.id))]),t._v(" "),s("th",[t._v(t._s(a.name))]),t._v(" "),s("th",[s("img",{staticClass:"img-rounded logoImg",attrs:{src:a.logo}})]),t._v(" "),s("th",[t._v(t._s(a.schedule_corp_rank))]),t._v(" "),s("th",[t._v(t._s(a.point))]),t._v(" "),s("th",[s("p",[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){t.removeCorpIn(i)}}},[t._v("移除")])]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#SettingModal","data-whatever":"@mdo"},on:{click:function(a){t.Setting(i)}}},[t._v("设置")])]),t._v(" "),"WIN"==a.schedule_corp_status?s("th",[s("h4",[t._v("胜")])]):"LOST"==a.schedule_corp_status?s("th",[s("h4",[t._v("负")])]):s("th",[s("h4",[t._v("比赛中")])])])}))]),t._v(" "),t._m(2),t._v(" "),s("table",{staticClass:"table table-hover table-striped"},[t._m(3),t._v(" "),t._l(t.list.corps,function(a,i){return a.ifFalg?t._e():s("tr",[s("th",[t._v(t._s(a.id))]),t._v(" "),s("th",[t._v(t._s(a.name))]),t._v(" "),s("th",[s("img",{staticClass:"img-rounded logoImg",attrs:{src:a.logo}})]),t._v(" "),s("th",[t._v(t._s(a.number))]),t._v(" "),s("th",[t._v(t._s(a.point))]),t._v(" "),s("th",[s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(a){t.addCorpIn(i)}}},[t._v("添加")])])])})],2),t._v(" "),s("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"SettingModal"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(4),t._v(" "),s("div",{staticClass:"modal-body row"},[s("div",{staticClass:"media col-md-6"},[s("div",{staticClass:"media-left"},[s("a",{attrs:{href:"#"}},[s("img",{staticClass:"media-object",staticStyle:{width:"64px"},attrs:{src:t.settingItem.logo}})])]),t._v(" "),s("div",{staticClass:"media-body"},[s("h4",{staticClass:"media-heading"},[t._v(t._s(t.settingItem.name))]),t._v("\n              "+t._s(t.settingItem.detail)+"\n            ")])]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"input-group"},[s("span",{staticClass:"input-group-addon",attrs:{id:"sizing-addon2"}},[t._v("名次")]),t._v(" "),s("input",{staticClass:"form-control",attrs:{id:"ranking",type:"text",placeholder:"请输入名次","aria-describedby":"sizing-addon2"},domProps:{value:t.settingItem.schedule_corp_rank}})]),t._v(" "),s("div",{staticClass:"btn-group",staticStyle:{"margin-top":"15px",display:"flex","align-items":"center"}},[t._m(5),t._v(" "),s("ul",{staticClass:"dropdown-menu"},t._l(t.dropdown,function(a,i){return s("li",{on:{click:function(a){t.getdown(i)}}},[s("a",[t._v(t._s(a))])])})),t._v(" "),s("strong",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.downText))])])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.saveSetting}},[t._v("保存设置")])])])])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{tabindex:"-1",id:"myModify",role:"dialog"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(6),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("赛程名称：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"name1",placeholder:""},domProps:{value:t.addCorpList.name}})]),t._v(" "),s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("开始时间：")]),s("input",{staticClass:"form-control",attrs:{type:"datetime-local",id:"city1",placeholder:""},domProps:{value:t.begin_at}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("举办城市：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"prize1",placeholder:""},domProps:{value:t.addCorpList.city}})]),t._v(" "),s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("结束时间：")]),s("input",{staticClass:"form-control",attrs:{type:"datetime-local",id:"contact1",placeholder:""},domProps:{value:t.end_at}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 dimen2"},[s("span",[t._v("地址：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"organizer1",placeholder:""},domProps:{value:t.addCorpList.address}})]),t._v(" "),s("div",{staticClass:"col-md-6 dimen2",staticStyle:{opacity:"0"}},[s("span",[t._v("ID：")]),s("input",{staticClass:"form-control",attrs:{type:"text",id:"id",placeholder:"",readonly:""},domProps:{value:t.idea}})])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.update}},[t._v("提交")])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"page-header"},[a("h1",[a("small",[this._v("已添加的战队")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("战队名称")]),t._v(" "),s("th",[t._v("战队Logo")]),t._v(" "),s("th",[t._v("名次")]),t._v(" "),s("th",[t._v("积分")]),t._v(" "),s("th",[t._v("操作")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"page-header"},[a("h1",[a("small",[this._v("已报名战队")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("战队名称")]),t._v(" "),s("th",[t._v("战队Logo")]),t._v(" "),s("th",[t._v("成员数")]),t._v(" "),s("th",[t._v("积分")]),t._v(" "),s("th",[t._v("操作")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h4",{staticClass:"modal-title"},[this._v("设置")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[this._v("\n                选择胜负"),a("span",{staticClass:"caret"})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),a("h4",{staticClass:"modal-title"},[this._v("修改赛程")])])}]};var K=s("VU/8")(G,J,!1,function(t){s("IVPN")},"data-v-6beed16e",null).exports,X=(s("tvR6"),{name:"MerchantCode",data:function(){return{countText:"",all_materialItem:"",alertFalg:{falg:!1,msg:""},mcode:""}},methods:{loadMcode:function(){for(var t=this,a=function(a){var s=$("#mCode"+a)[0],i=new Image;i.crossOrigin="anonymous",i.src=t.all_materialItem.data[a].image,i.onload=function(){s.getContext("2d").drawImage(i,0,0,200,200)}},s=0;s<t.all_materialItem.data.length;s++)a(s)},mCode:function(t){var a=$("#mCode"+t)[0];$(".downBtn").attr("href",a.toDataURL("image/png"))},all_material:function(){var t=this,a=this;this.$axios.post("/api/api/admin/material").then(function(a){console.log(a),t.all_materialItem=a.data}).then(function(){a.loadMcode()})},createdMaterial:function(){var t=this;this.$axios.post("/api/api/admin/material/create",this.$qs.stringify({count:this.countText||0})).then(function(a){console.log(a),a.data.code||(t.alertFalg.falg=!0,t.alertFalg.msg="商家码生成成功",t.all_material(),setTimeout(function(){t.alertFalg.falg=!1},3e3))})}},mounted:function(){this.all_material()}}),Z={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"merchant-code container-fluid"},[s("transition",{attrs:{name:"slide-fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.alertFalg.falg,expression:"alertFalg.falg"}],staticClass:"alert alert-success",attrs:{role:"alert"}},[s("h4",{staticStyle:{color:"#468847"}},[t._v("✔ "+t._s(t.alertFalg.msg))])])]),t._v(" "),s("div",{staticClass:"form-inline page-header"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.countText,expression:"countText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入需要生成的数量"},domProps:{value:t.countText},on:{input:function(a){a.target.composing||(t.countText=a.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.createdMaterial}},[t._v("生成商家码")])]),t._v(" "),s("div",{staticClass:"row cons"},t._l(t.all_materialItem.data,function(a,i){return s("div",{staticClass:"tlu",staticStyle:{cursor:"pointer"}},[s("div",{staticClass:"thumbnail"},[s("canvas",{attrs:{id:"mCode"+i,height:"200px",width:"200px"}},[t._v("\n            您的浏览器不支持 HTML5 canvas 标签。\n          ")]),t._v(" "),s("div",{staticClass:"caption"},[s("div",{staticStyle:{display:"flex","margin-bottom":"10px"}},[s("div",[null==a.mid?s("span",{staticClass:"label label-primary"},[t._v("未绑定")]):s("span",{staticClass:"label label-danger"},[t._v("已绑定")])]),t._v(" "),s("p",{staticStyle:{margin:"0 10px"}},[t._v(t._s(a.code))])]),t._v(" "),s("p",[s("a",{staticClass:"downBtn btn btn-primary",attrs:{download:a.code+".png",role:"button"},on:{click:function(a){t.mCode(i)}}},[t._v("下载")])])])])])}))],1)},staticRenderFns:[]};var Q=s("VU/8")(X,Z,!1,function(t){s("ZOyX")},"data-v-40101b7a",null).exports;o.default.use(m.a),o.default.use(p.a),o.default.prototype.$qs=_.a,o.default.prototype.$axios=d.a,o.default.config.productionTip=!1,o.default.prototype.HOST="/api",o.default.use(r.a);var Y=new r.a({routes:[{path:"/",redirect:"/login"},{path:"/login",component:q,meta:{requiresAuth:!0}},{path:"/combination",component:P,meta:{requires:!0},children:[{path:"/combination/match",component:y,meta:{requires:!0}},{path:"/combination/activity",component:f,meta:{requires:!0}},{path:"/combination/member",component:j,meta:{requires:!0}},{path:"/combination/process",component:V,meta:{requires:!0}},{path:"/combination/matchedit",component:S,meta:{requires:!0}},{path:"/combination/schedule",component:H,meta:{requires:!0}},{path:"/combination/scheduleitem",component:K,meta:{requires:!0}},{path:"/combination/merchantcode",component:Q,meta:{requires:!0}}]}]});Y.beforeEach(function(t,a,s){t.meta.requiresAuth?window.localStorage.token?s("/combination/activity"):s():t.meta.requires?window.localStorage.token?s():s("/login"):s()}),d.a.interceptors.request.use(function(t){return console.log(d.a),localStorage.token&&(t.headers.Authorization="Bearer "+localStorage.token),t},function(t){return e.a.reject(t)}),new o.default({el:"#app",router:Y,store:T,components:{App:l},template:"<App/>"})},Wjvq:function(t,a){t.exports.asd={}},XE3d:function(t,a){},ZOyX:function(t,a){},jMqD:function(t,a){},oNeI:function(t,a){},"t+V/":function(t,a){},tL0h:function(t,a){},tvR6:function(t,a){},xfRc:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.50c46a1c47a1a7267781.js.map